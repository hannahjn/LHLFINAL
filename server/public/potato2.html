<html lang=”en”>
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Name of your awesome camera app -->
    <!-- Link to your main style sheet-->
    <!-- <link rel="stylesheet" href="style.css"> -->

    <!-- AR scripts-->
    <script src="https://aframe.io/releases/0.6.1/aframe.min.js"></script>
    <script src="https://3d.io/releases/3dio-js/1.x.x-beta/3dio.min.js"></script>
    <style>
    button {
      z-index: 9000;

    }
      video {
        height: 100%;
        width: 100%;
        position: static;
      }
      a-scene {
        height: 100%;
        width: 100%;
        position: static;
      }
      /* video {
        z-index: 0;
      } */
      .a-enter-vr {
        display: none;
      }
    </style>
</head>


<body>


        <video id="camera--view" autoplay playsinline></video>
        <button id="camera--trigger">Place the item</button>
        <a-scene  ar ar-raycaster raycaster cursor="fuse:false" antialias="true">

          <a-assets>
            <a-video src="#camera--view"></a-video>

          </a-assets>


          <a-entity id="mark" io3d-furniture="id:345f3fb8-f834-491b-8ea8-a90bbbbeb3ef" scale="1 1 1" rotation="0 30 0" position="0 .25 0"></a-entity>
          <!-- <a-entity camera position="0 1.6 0" orbit-controls="target:#furniture; autoRotate: true"></a-entity> -->
          <a-marker-camera preset='hiro'></a-marker-camera>

          </a-scene>


<!-- <a-entity camera></a-entity> -->

    <script>
    // Set constraints for the video stream
    var constraints = { video: { facingMode: "environment"}, audio: false };

    // Define constants
    const cameraView = document.querySelector("#camera--view"),
        cameraOutput = document.querySelector("#camera--output"),
        cameraSensor = document.querySelector("#camera--sensor"),
        cameraTrigger = document.querySelector("#camera--trigger")
    // Access the device camera and stream to cameraView
    function cameraStart() {
        navigator.mediaDevices
            .getUserMedia(constraints)
            .then(function(stream) {
            track = stream.getTracks()[0];
            cameraView.srcObject = stream;
        })
        .catch(function(error) {
            console.error("Oops. Something is broken.", error);
        });
    }
    // cameraTrigger.onclick = function() {
    //     // cameraSensor.width = cameraView.videoWidth;
    //     // cameraSensor.height = cameraView.videoHeight;
    //     // cameraSensor.getContext("2d").drawImage(cameraView, 0, 0);
    //     // cameraOutput.src = cameraSensor.toDataURL("image/webp");
    //     // cameraOutput.classList.add("taken");
    //     var raycaster = document.querySelector('[ar-raycaster]');
    //     var mark = document.querySelector('#mark');
    //
    // };
    window.addEventListener("load", cameraStart, false);

   // const cameraMark = document.querySelector('#mark')
   // cameraMark.addEventListener("click", function(e)
   //     {
   //        console.log("mark");
   //         window.location.href = './Video1/index.html';
   //         this.style.display = 'none';
   //     }, false);
   //


    </script>

</body>
</html>
